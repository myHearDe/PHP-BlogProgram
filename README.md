# PHP专业博客程序

这是一款专业级的PHP博客程序，采用了模块化设计，具有清晰的代码结构和良好的扩展性。程序包含文章管理、分类管理、评论系统等核心功能，并提供了清新美观的默认模板。

## 系统特性

- **模块化设计**：清晰的代码结构，便于维护和扩展
- **响应式布局**：适配各种设备屏幕，包括桌面、平板和手机
- **文章管理**：支持发布、编辑、删除文章
- **分类系统**：支持文章分类管理
- **评论功能**：支持读者评论和评论管理
- **搜索功能**：支持按关键词搜索文章
- **统计信息**：提供博客文章、分类、评论数量统计
- **清新模板**：默认使用现代化的清新设计风格
- **SEO优化**：支持自定义页面标题和描述

## 技术栈

- PHP 7.0+（推荐PHP 7.4或更高版本）
- MySQL 5.6+（推荐MySQL 8.0或更高版本）
- HTML5 + CSS3 + JavaScript
- Font Awesome 图标库
- Chart.js 图表库

## 安装指南

### 1. 环境准备

确保您的服务器满足以下要求：
- PHP 7.0或更高版本
- MySQL 5.6或更高版本
- 开启PDO扩展
- 开启mbstring扩展

### 2. 数据库设置

1. **创建数据库**
   使用phpMyAdmin或其他MySQL管理工具创建一个新的数据库，建议使用utf8mb4字符集。
   
2. **导入数据库表结构**
   导入`database.sql`文件到您创建的数据库中，这个文件包含了博客所需的所有表结构和示例数据。
   
   ```bash
   # 也可以使用命令行导入数据库
   mysql -u username -p database_name < database.sql
   ```

### 3. 配置文件设置

根据您提供的信息，我们已经为您更新了`includes/config.php`文件中的数据库连接信息：

```php
// 数据库配置 - 已根据您提供的信息更新
define('DB_HOST', 'localhost'); // 数据库主机，通常是localhost
define('DB_NAME', 'test_9zcnb_com'); // 数据库名
define('DB_USER', 'test_9zcnb_com'); // 数据库用户名
define('DB_PASS', '4j5Dt4hFxrkrPFtt'); // 数据库密码

// 博客基本设置
define('BLOG_NAME', '我的专业博客');          // 博客名称
define('BLOG_DESCRIPTION', '分享我的知识和经验'); // 博客描述
define('BLOG_AUTHOR', '博主');               // 博主名称
define('BLOG_EMAIL', 'admin@example.com');   // 博主邮箱

define('BLOG_URL', 'http://localhost/blog'); // 博客URL，修改为您的实际域名
```

**注意：** 数据库配置已根据您提供的信息更新，数据库名和用户名均为`test_9zcnb_com`，密码已设置。
```

### 4. 部署到Web服务器

将所有文件上传到您的Web服务器根目录或子目录中。确保Web服务器（如Apache、Nginx）配置正确，能够解析PHP文件。

### 5. 访问博客

在浏览器中输入您的博客URL，即可访问博客首页。

## 目录结构

```
├── index.php             # 博客入口文件
├── includes/             # 核心功能文件目录
│   ├── config.php        # 配置文件
│   ├── functions.php     # 辅助函数
│   ├── database.php      # 数据库连接类
│   └── blog.php          # 博客核心业务逻辑
├── templates/            # 模板文件目录
│   └── default/          # 默认模板
│       ├── header.php    # 模板头部
│       ├── home.php      # 首页模板
│       ├── single.php    # 文章详情模板
│       ├── category.php  # 分类模板
│       ├── about.php     # 关于页面模板
│       ├── footer.php    # 模板页脚
│       ├── style.css     # 样式文件
│       └── script.js     # JavaScript文件
├── database.sql          # 数据库表结构
└── README.md             # 项目说明
```

## 功能使用

### 文章管理

目前系统提供了基础的文章展示功能。如需添加文章管理后台，您可以根据`blog.php`中的方法扩展相应功能。

### 分类管理

系统支持文章分类，您可以在数据库的`categories`表中添加、编辑或删除分类。

### 评论功能

读者可以在文章详情页发表评论，评论会保存在数据库的`comments`表中。

### 搜索功能

在博客顶部的搜索框中输入关键词，可以搜索文章标题和内容。

## 自定义模板

如果您想创建自己的模板，可以按照以下步骤操作：

1. 在`templates`目录下创建一个新的模板文件夹（如`mytheme`）
2. 复制`default`模板中的所有文件到新文件夹
3. 修改新模板文件夹中的样式和布局文件
4. 在`index.php`中修改`TEMPLATE_DIR`常量，指向您的新模板文件夹

## 安全建议

1. 不要在生产环境中使用默认的数据库配置
2. 确保`includes`目录下的文件无法直接通过URL访问
3. 对用户输入的数据进行适当的验证和过滤
4. 定期备份数据库

## 扩展开发

系统采用了面向对象的设计方法，便于扩展和定制。您可以通过以下方式扩展功能：

1. 在`blog.php`中添加新的方法来实现新功能
2. 创建新的模板文件来展示不同类型的内容
3. 在`functions.php`中添加辅助函数

## 常见问题

### 1. 无法连接到数据库

请检查`includes/config.php`文件中的数据库配置是否正确，确保数据库服务器正在运行，并且用户名和密码正确。

### 2. 表不存在错误 (SQLSTATE[42S02])

如果出现类似`SQLSTATE[42S02]: Base table or view not found: 1146 Table 'xxx.posts' doesn't exist`的错误，可能是以下原因：

- **数据库名配置错误**：检查`includes/config.php`中的`DB_NAME`常量是否与您实际创建的数据库名一致
- **数据库表未导入**：确保已成功导入`database.sql`文件中的所有表结构
- **权限问题**：确保数据库用户有足够的权限访问数据库和表

解决方法：重新检查数据库配置，确认数据库名正确，并重新导入`database.sql`文件。

### 2. 页面显示空白

- 检查PHP错误日志，查找具体错误信息
- 确保所有必要的PHP扩展都已开启
- 检查文件权限是否正确

### 3. 图片无法显示

确保图片路径正确，并且Web服务器有读取图片文件的权限。

## 版权信息

本项目采用MIT许可证开源，您可以自由使用和修改，但请保留原始作者信息。

## 更新日志

### 1.0.0 (2023-XX-XX)
- 首次发布，包含基本的博客功能
- 实现文章、分类、评论管理
- 提供响应式设计的默认模板
- 支持搜索和统计功能